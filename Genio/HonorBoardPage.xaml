<Page x:Class="Genio.HonorBoardPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      mc:Ignorable="d" 
      Title="HonorBoardPage"
      Background="{StaticResource WindowBackground}"
      Loaded="Page_Loaded">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- ШАПКА С ПОИСКОМ И КНОПКАМИ -->
        <Border Grid.Row="0"
                Background="Transparent"
                Margin="20,10,20,20">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- ПОЛЕ ПОИСКА -->
                <Border Grid.Column="0"
                        Background="{StaticResource ReportFrameColor}"
                        CornerRadius="12"
                        Width="318"
                        Height="38"
                        Margin="0,0,15,0">
                    <Grid>
                        <TextBox x:Name="SearchTextBox"
                                 Style="{StaticResource SearchTextBoxStyle}"
                                 Padding="38,0,10,0"
                                 VerticalAlignment="Center"
                                 Text="Поиск..."
                                 GotFocus="SearchTextBox_GotFocus"
                                 LostFocus="SearchTextBox_LostFocus"
                                 TextChanged="SearchTextBox_TextChanged"/>
                        <Image Source="/Images/searchIcon.png"
                               Width="20"
                               Height="20"
                               HorizontalAlignment="Left"
                               VerticalAlignment="Center"
                               Margin="12,0,0,0"
                               Stretch="Uniform"/>
                    </Grid>
                </Border>

                <!-- КНОПКА ФИЛЬТРОВ -->
                <Button x:Name="FiltersBtn"
                        Grid.Column="1"
                        Style="{StaticResource FiltersButtonStyle}"
                        Width="56"
                        Height="38"
                        HorizontalAlignment="Left"
                        Click="FiltersBtn_Click">
                    <Image Source="/Images/filterIcon.png"
                           Width="20"
                           Height="20"
                           Stretch="Uniform"/>
                </Button>

                <!-- КНОПКА ЭКСПОРТА В EXCEL -->
                <Button x:Name="ExportExcelBtn"
                        Grid.Column="2"
                        Style="{StaticResource ExcelExportButtonStyle}"
                        Width="120"
                        Height="38"
                        HorizontalAlignment="Right"
                        Click="ExportExcelBtn_Click">
                    <StackPanel Orientation="Horizontal" 
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center">
                        <TextBlock Text="📊" 
                                   FontSize="13"
                                   Margin="0,0,5,0"/>
                        <TextBlock Text="Excel" 
                                   FontSize="13"/>
                    </StackPanel>
                </Button>
            </Grid>
        </Border>

        <!-- КНОПКИ ДОБАВЛЕНИЯ/РЕДАКТИРОВАНИЯ И ОЧИСТКИ ФИЛЬТРОВ -->
        <Border Grid.Row="1"
                Background="Transparent"
                Margin="20,0,20,10"
                x:Name="ActionButtonsPanel">
            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Left">
                <!-- КНОПКА ДОБАВИТЬ -->
                <Button x:Name="AddButton"
                        Style="{StaticResource PurpleCircleButtonStyle}"
                        Width="35"
                        Height="35"
                        Margin="0,0,10,0"
                        Click="AddButton_Click">
                    <Image Source="/Images/addIcon.png"
                           Width="24"
                           Height="24"
                           Stretch="Uniform"/>
                </Button>

                <!-- КНОПКА РЕДАКТИРОВАТЬ -->
                <Button x:Name="EditButton"
                        Style="{StaticResource PurpleCircleButtonStyle}"
                        Width="35"
                        Height="35"
                        Click="EditButton_Click">
                    <Image Source="/Images/editIcon.png"
                           Width="17"
                           Height="17"
                           Stretch="Uniform"/>
                </Button>
            </StackPanel>
        </Border>

        <!-- ПАНЕЛЬ ФИЛЬТРОВ -->
        <Border x:Name="FiltersPanel"
                Grid.Row="1"
                Background="Transparent"
                Margin="20,0,20,15"
                Height="170"
                Visibility="Collapsed">

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="20"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- КНОПКА ОЧИСТКИ ФИЛЬТРОВ -->
                <Button x:Name="ClearFiltersButton"
                        Grid.Column="0"
                        Style="{StaticResource ClearFilterButtonStyle}"
                        Width="38"
                        Height="38"
                        HorizontalAlignment="Left"
                        Click="ClearFiltersButton_Click">
                    <Image Source="/Images/cleanicon.png"
                           Width="20"
                           Height="20"
                           Stretch="Uniform"/>
                </Button>

                <!-- ФРЕЙМ СПЕЦИАЛЬНОСТИ -->
                <Border Grid.Column="0"
                        Background="{StaticResource ReportFrameColor}"
                        CornerRadius="8"
                        Padding="15"
                        Margin="50,0,0,0"
                        Style="{StaticResource HoverFrameStyle}"
                        Height="170">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <TextBlock Text="Специальности"
                                   Grid.Row="0"
                                   FontSize="14"
                                   FontWeight="SemiBold"
                                   Foreground="{StaticResource LightTextColor}"
                                   Margin="0,0,0,10"/>

                        <!-- SCROLLVIEWER ДЛЯ СПЕЦИАЛЬНОСТЕЙ -->
                        <ScrollViewer Grid.Row="1"
                                      VerticalScrollBarVisibility="Auto"
                                      HorizontalScrollBarVisibility="Disabled"
                                      Style="{StaticResource CustomScrollViewerStyle}">
                            <StackPanel x:Name="SpecialtiesFilterPanel">
                                <!-- CheckBox будут добавляться динамически -->
                            </StackPanel>
                        </ScrollViewer>
                    </Grid>
                </Border>

                <!-- ФРЕЙМ КУРСЫ -->
                <Border Grid.Column="2"
                        Background="{StaticResource ReportFrameColor}"
                        CornerRadius="8"
                        Padding="15"
                        Style="{StaticResource HoverFrameStyle}"
                        Height="170">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <TextBlock Text="Курс"
                                   Grid.Row="0"
                                   FontSize="14"
                                   FontWeight="SemiBold"
                                   Foreground="{StaticResource LightTextColor}"
                                   Margin="0,0,0,10"/>

                        <StackPanel Grid.Row="1" x:Name="CoursesFilterPanel">
                            <CheckBox x:Name="FilterCourse1" Content="1 курс" 
                                      Margin="0,0,0,10"
                                      Style="{StaticResource ReportCheckBoxStyle}"
                                      FontSize="12"
                                      Checked="CourseFilter_Changed"
                                      Unchecked="CourseFilter_Changed"/>
                            <CheckBox x:Name="FilterCourse2" Content="2 курс" 
                                      Margin="0,0,0,10"
                                      Style="{StaticResource ReportCheckBoxStyle}"
                                      FontSize="12"
                                      Checked="CourseFilter_Changed"
                                      Unchecked="CourseFilter_Changed"/>
                            <CheckBox x:Name="FilterCourse3" Content="3 курс" 
                                      Margin="0,0,0,10"
                                      Style="{StaticResource ReportCheckBoxStyle}"
                                      FontSize="12"
                                      Checked="CourseFilter_Changed"
                                      Unchecked="CourseFilter_Changed"/>
                            <CheckBox x:Name="FilterCourse4" Content="4 курс"
                                      Style="{StaticResource ReportCheckBoxStyle}"
                                      FontSize="12"
                                      Checked="CourseFilter_Changed"
                                      Unchecked="CourseFilter_Changed"/>
                        </StackPanel>
                    </Grid>
                </Border>
            </Grid>
        </Border>

        <!-- ЗАГОЛОВОК И КОМБОБОКС ГОДА -->
        <Border Grid.Row="2"
                Background="Transparent"
                Margin="20,0,20,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- ЗАГОЛОВОК -->
                <TextBlock Grid.Column="0"
                           Text="Доска почета"
                           Style="{StaticResource HonorBoardTitleStyle}"/>

                <!-- КОМБОБОКС ГОДА -->
                <Border Grid.Column="2"
                        Background="{StaticResource ReportFrameColor}"
                        CornerRadius="8"
                        Width="150"
                        Height="40"
                        HorizontalAlignment="Left">
                    <ComboBox x:Name="YearComboBox"
                              Style="{StaticResource CustomComboBoxStyle}"
                              ItemContainerStyle="{StaticResource CustomComboBoxItemStyle}"
                              FontSize="13"
                              SelectionChanged="YearComboBox_SelectionChanged"/>
                </Border>
            </Grid>
        </Border>

        <!-- ТАБЛИЦА ДОСКИ ПОЧЕТА -->
        <Border Grid.Row="3"
                Background="{StaticResource ReportFrameColor}"
                CornerRadius="8"
                Margin="20,0,20,15"
                Style="{StaticResource HoverFrameStyle}"
                Padding="1">
            <Grid>
                <ScrollViewer Style="{StaticResource CustomScrollViewerStyle}"
                              VerticalScrollBarVisibility="Auto"
                              HorizontalScrollBarVisibility="Disabled"
                              Padding="0,0,15,0">
                    <DataGrid x:Name="HonorBoardGrid"
                              Style="{StaticResource HonorBoardTableStyle}"
                              Margin="0"
                              AutoGenerateColumns="False"
                              BorderThickness="0"
                              MouseDoubleClick="HonorBoardGrid_MouseDoubleClick">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ФИО" 
                                                Binding="{Binding FullName}"
                                                Width="*"
                                                MinWidth="200">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Margin" Value="15,0,0,0"/>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                            </DataGridTextColumn>
                            <DataGridTextColumn Header="Курс" 
                                                Binding="{Binding Course}"
                                                Width="80"
                                                MinWidth="80">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="HorizontalAlignment" Value="Center"/>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                            </DataGridTextColumn>
                            <DataGridTextColumn Header="Группа" 
                                                Binding="{Binding Group}"
                                                Width="100"
                                                MinWidth="100">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="HorizontalAlignment" Value="Center"/>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                            </DataGridTextColumn>
                            <DataGridTextColumn Header="Дата поступления" 
                                                Binding="{Binding AdmissionDate, StringFormat=dd.MM.yyyy}"
                                                Width="140"
                                                MinWidth="140">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="HorizontalAlignment" Value="Center"/>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                            </DataGridTextColumn>
                            <DataGridTextColumn Header="Дата окончания" 
                                                Binding="{Binding GraduationDate, StringFormat=dd.MM.yyyy}"
                                                Width="140"
                                                MinWidth="140">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="HorizontalAlignment" Value="Center"/>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                            </DataGridTextColumn>
                            <DataGridTextColumn Header="Дата занесения на ДП" 
                                                Binding="{Binding PlacementDate, StringFormat=dd.MM.yyyy}"
                                                Width="160"
                                                MinWidth="160">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="HorizontalAlignment" Value="Center"/>
                                        <Setter Property="Margin" Value="0,0,15,0"/>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                            </DataGridTextColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </ScrollViewer>
            </Grid>
        </Border>

        <!-- ПОДВАЛ -->
        <Border Grid.Row="4"
                Background="Transparent"
                Margin="20,0,20,20"
                Height="60">
        </Border>

    </Grid>
</Page>